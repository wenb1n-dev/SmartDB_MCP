import{r as f,j as m,k as V,o as v,f as c,l as t,m as w,w as g,n,v as i,E as N,s as k,q as U,t as y,G as P}from"./vendor-7090ffab.js";import{u as j}from"./index-6734ca5b.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./crypto-c81baed6.js";const M={class:"user-profile"},S={class:"profile-grid"},B={class:"profile-card"},q={class:"form-group"},T={class:"form-group"},$={class:"form-group"},D={class:"form-group"},E={class:"form-group"},A={class:"form-group"},G={class:"form-actions"},H=["disabled"],I={key:0,class:"loading-spinner",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O={class:"profile-card"},z={class:"security-settings"},J={class:"setting-item"},K={class:"setting-item"},L={class:"toggle-switch"},Q={class:"setting-item"},R={class:"toggle-switch"},W={class:"modal-header"},X={class:"form-group"},Y={class:"form-group"},Z={class:"form-group"},_={class:"form-actions"},oo=["disabled"],to={__name:"UserProfile",setup(eo){const b=j(),a=f(!1),d=f(!1),u=f(!1),s=m({username:"",email:"",fullName:"",phone:"",department:"",position:""}),r=m({currentPassword:"",newPassword:"",confirmPassword:""}),p=m({twoFactor:!1,loginNotification:!0}),x=async()=>{d.value=!0;try{await new Promise(l=>setTimeout(l,1e3)),console.log("更新用户信息:",s)}catch(l){console.error("更新失败:",l)}finally{d.value=!1}},C=async()=>{if(r.newPassword!==r.confirmPassword){alert("两次输入的密码不一致");return}u.value=!0;try{await new Promise(l=>setTimeout(l,1e3)),console.log("修改密码:",r),a.value=!1,r.currentPassword="",r.newPassword="",r.confirmPassword=""}catch(l){console.error("修改密码失败:",l)}finally{u.value=!1}},h=()=>{var l;Object.assign(s,{username:((l=b.user)==null?void 0:l.username)||"",email:"",fullName:"",phone:"",department:"",position:""})};return V(()=>{var l;s.username=((l=b.user)==null?void 0:l.username)||""}),(l,o)=>(v(),c("div",M,[o[36]||(o[36]=t("div",{class:"page-header"},[t("div",{class:"header-content"},[t("h2",null,"用户信息"),t("p",null,"管理您的个人资料和账户设置")])],-1)),t("div",S,[t("div",B,[o[24]||(o[24]=w('<div class="card-header" data-v-e27cd58f><div class="card-icon" data-v-e27cd58f><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-e27cd58f><path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-e27cd58f></path><circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-e27cd58f></circle></svg></div><div class="card-title" data-v-e27cd58f><h3 data-v-e27cd58f>基本信息</h3><p data-v-e27cd58f>更新您的个人资料信息</p></div></div>',1)),t("form",{onSubmit:g(x,["prevent"]),class:"profile-form"},[t("div",q,[o[16]||(o[16]=t("label",{for:"username",class:"form-label"},"用户名",-1)),n(t("input",{id:"username","onUpdate:modelValue":o[0]||(o[0]=e=>s.username=e),type:"text",class:"form-input",placeholder:"请输入用户名",required:""},null,512),[[i,s.username]])]),t("div",T,[o[17]||(o[17]=t("label",{for:"email",class:"form-label"},"邮箱地址",-1)),n(t("input",{id:"email","onUpdate:modelValue":o[1]||(o[1]=e=>s.email=e),type:"email",class:"form-input",placeholder:"请输入邮箱地址"},null,512),[[i,s.email]])]),t("div",$,[o[18]||(o[18]=t("label",{for:"fullName",class:"form-label"},"真实姓名",-1)),n(t("input",{id:"fullName","onUpdate:modelValue":o[2]||(o[2]=e=>s.fullName=e),type:"text",class:"form-input",placeholder:"请输入真实姓名"},null,512),[[i,s.fullName]])]),t("div",D,[o[19]||(o[19]=t("label",{for:"phone",class:"form-label"},"手机号码",-1)),n(t("input",{id:"phone","onUpdate:modelValue":o[3]||(o[3]=e=>s.phone=e),type:"tel",class:"form-input",placeholder:"请输入手机号码"},null,512),[[i,s.phone]])]),t("div",E,[o[21]||(o[21]=t("label",{for:"department",class:"form-label"},"所属部门",-1)),n(t("select",{id:"department","onUpdate:modelValue":o[4]||(o[4]=e=>s.department=e),class:"form-input"},o[20]||(o[20]=[w('<option value="" data-v-e27cd58f>请选择部门</option><option value="技术部" data-v-e27cd58f>技术部</option><option value="产品部" data-v-e27cd58f>产品部</option><option value="运营部" data-v-e27cd58f>运营部</option><option value="市场部" data-v-e27cd58f>市场部</option><option value="人事部" data-v-e27cd58f>人事部</option>',6)]),512),[[N,s.department]])]),t("div",A,[o[22]||(o[22]=t("label",{for:"position",class:"form-label"},"职位",-1)),n(t("input",{id:"position","onUpdate:modelValue":o[5]||(o[5]=e=>s.position=e),type:"text",class:"form-input",placeholder:"请输入职位"},null,512),[[i,s.position]])]),t("div",G,[t("button",{type:"submit",class:"btn btn-primary",disabled:d.value},[d.value?(v(),c("svg",I,o[23]||(o[23]=[t("path",{d:"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):k("",!0),U(" "+y(d.value?"更新中...":"更新信息"),1)],8,H),t("button",{type:"button",class:"btn btn-secondary",onClick:h}," 重置 ")])],32)]),t("div",O,[o[30]||(o[30]=w('<div class="card-header" data-v-e27cd58f><div class="card-icon security-icon" data-v-e27cd58f><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-e27cd58f><rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-e27cd58f></rect><circle cx="12" cy="16" r="1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-e27cd58f></circle><path d="M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-e27cd58f></path></svg></div><div class="card-title" data-v-e27cd58f><h3 data-v-e27cd58f>安全设置</h3><p data-v-e27cd58f>管理您的账户安全</p></div></div>',1)),t("div",z,[t("div",J,[o[25]||(o[25]=t("div",{class:"setting-info"},[t("h4",null,"修改密码"),t("p",null,"定期更换密码以提高账户安全性")],-1)),t("button",{class:"btn btn-secondary",onClick:o[6]||(o[6]=e=>a.value=!0)}," 修改密码 ")]),t("div",K,[o[27]||(o[27]=t("div",{class:"setting-info"},[t("h4",null,"两步验证"),t("p",null,"启用两步验证以增强账户安全")],-1)),t("div",L,[n(t("input",{id:"twoFactor","onUpdate:modelValue":o[7]||(o[7]=e=>p.twoFactor=e),type:"checkbox",class:"toggle-input"},null,512),[[P,p.twoFactor]]),o[26]||(o[26]=t("label",{for:"twoFactor",class:"toggle-label"},null,-1))])]),t("div",Q,[o[29]||(o[29]=t("div",{class:"setting-info"},[t("h4",null,"登录通知"),t("p",null,"在新设备登录时发送邮件通知")],-1)),t("div",R,[n(t("input",{id:"loginNotification","onUpdate:modelValue":o[8]||(o[8]=e=>p.loginNotification=e),type:"checkbox",class:"toggle-input"},null,512),[[P,p.loginNotification]]),o[28]||(o[28]=t("label",{for:"loginNotification",class:"toggle-label"},null,-1))])])])])]),a.value?(v(),c("div",{key:0,class:"modal-overlay",onClick:o[15]||(o[15]=e=>a.value=!1)},[t("div",{class:"modal-content",onClick:o[14]||(o[14]=g(()=>{},["stop"]))},[t("div",W,[o[32]||(o[32]=t("h3",null,"修改密码",-1)),t("button",{class:"modal-close",onClick:o[9]||(o[9]=e=>a.value=!1)},o[31]||(o[31]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),t("form",{onSubmit:g(C,["prevent"]),class:"password-form"},[t("div",X,[o[33]||(o[33]=t("label",{for:"currentPassword",class:"form-label"},"当前密码",-1)),n(t("input",{id:"currentPassword","onUpdate:modelValue":o[10]||(o[10]=e=>r.currentPassword=e),type:"password",class:"form-input",placeholder:"请输入当前密码",required:""},null,512),[[i,r.currentPassword]])]),t("div",Y,[o[34]||(o[34]=t("label",{for:"newPassword",class:"form-label"},"新密码",-1)),n(t("input",{id:"newPassword","onUpdate:modelValue":o[11]||(o[11]=e=>r.newPassword=e),type:"password",class:"form-input",placeholder:"请输入新密码",required:""},null,512),[[i,r.newPassword]])]),t("div",Z,[o[35]||(o[35]=t("label",{for:"confirmPassword",class:"form-label"},"确认新密码",-1)),n(t("input",{id:"confirmPassword","onUpdate:modelValue":o[12]||(o[12]=e=>r.confirmPassword=e),type:"password",class:"form-input",placeholder:"请再次输入新密码",required:""},null,512),[[i,r.confirmPassword]])]),t("div",_,[t("button",{type:"submit",class:"btn btn-primary",disabled:u.value},y(u.value?"修改中...":"确认修改"),9,oo),t("button",{type:"button",class:"btn btn-secondary",onClick:o[13]||(o[13]=e=>a.value=!1)}," 取消 ")])],32)])])):k("",!0)]))}},io=F(to,[["__scopeId","data-v-e27cd58f"]]);export{io as default};
