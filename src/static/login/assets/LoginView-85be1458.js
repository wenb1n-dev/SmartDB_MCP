import{u as C,j as m,r as u,k as b,o as n,f as i,l as o,m as p,w as x,n as k,v as f,p as y,q as w,t as v,s as _}from"./vendor-7090ffab.js";import{u as j}from"./index-6734ca5b.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";import"./crypto-c81baed6.js";const V={class:"login-page"},B={class:"login-container"},L={class:"login-card"},S={class:"form-group"},D={class:"input-wrapper"},N=["disabled"],A={class:"form-group"},H={class:"input-wrapper"},q=["type","disabled"],P=["disabled"],E={key:0,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},U={key:0,class:"error-message"},Z=["disabled"],G={key:0,class:"loading-spinner",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},R={__name:"LoginView",setup($){const h=C(),c=j(),a=m({username:"",password:""}),d=u(!1),r=u(!1),t=u(""),g=async()=>{if(!r.value){r.value=!0,t.value="";try{await c.login(a),h.push("/dashboard")}catch(l){if(l.response&&l.response.data){const{error:e,error_description:s}=l.response.data;t.value=s}else console.log("Network error or other issue:",t.message),t.value="登录失败"+l.message}finally{r.value=!1}}};return b(()=>{c.clearError()}),(l,e)=>(n(),i("div",V,[e[14]||(e[14]=o("div",{class:"background-decoration"},[o("div",{class:"decoration-circle circle-1"}),o("div",{class:"decoration-circle circle-2"}),o("div",{class:"decoration-circle circle-3"})],-1)),o("div",B,[o("div",L,[e[12]||(e[12]=p('<div class="login-header" data-v-aaa9ebac><div class="logo" data-v-aaa9ebac><svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-aaa9ebac><path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-aaa9ebac></path><path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-aaa9ebac></path><path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-aaa9ebac></path></svg></div><h1 class="title" data-v-aaa9ebac>SmartDB MCP</h1><p class="subtitle" data-v-aaa9ebac>安全、高效的数据库管理平台</p></div>',1)),o("form",{onSubmit:x(g,["prevent"]),class:"login-form"},[o("div",S,[e[4]||(e[4]=o("label",{for:"username",class:"form-label"},"用户名",-1)),o("div",D,[e[3]||(e[3]=o("svg",{class:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),o("circle",{cx:"12",cy:"7",r:"4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),k(o("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=s=>a.username=s),type:"text",class:"form-input",placeholder:"请输入用户名",required:"",disabled:r.value},null,8,N),[[f,a.username]])])]),o("div",A,[e[8]||(e[8]=o("label",{for:"password",class:"form-label"},"密码",-1)),o("div",H,[e[7]||(e[7]=o("svg",{class:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),o("circle",{cx:"12",cy:"16",r:"1",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),o("path",{d:"M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),k(o("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=s=>a.password=s),type:d.value?"text":"password",class:"form-input",placeholder:"请输入密码",required:"",disabled:r.value},null,8,q),[[y,a.password]]),o("button",{type:"button",class:"password-toggle",onClick:e[2]||(e[2]=s=>d.value=!d.value),disabled:r.value},[d.value?(n(),i("svg",E,e[5]||(e[5]=[o("path",{d:"M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(n(),i("svg",T,e[6]||(e[6]=[o("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20C7 20 2 16 2 12C2 8 5 4 9 3.06",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("path",{d:"M9.9 4.24A9.12 9.12 0 0 1 12 4C16 4 20 8 20 12C20 16 18 19 15 20.5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("path",{d:"M14.12 14.12A3 3 0 1 1 9.88 9.88",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("line",{x1:"2",y1:"2",x2:"22",y2:"22",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))],8,P)])]),t.value?(n(),i("div",U,[e[9]||(e[9]=o("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),o("line",{x1:"15",y1:"9",x2:"9",y2:"15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),o("line",{x1:"9",y1:"9",x2:"15",y2:"15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),w(" "+v(t.value),1)])):_("",!0),o("button",{type:"submit",class:"login-button",disabled:r.value},[r.value?(n(),i("svg",G,e[10]||(e[10]=[o("path",{d:"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(n(),i("svg",I,e[11]||(e[11]=[o("path",{d:"M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("polyline",{points:"10,17 15,12 10,7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),o("line",{x1:"15",y1:"12",x2:"3",y2:"12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))),w(" "+v(r.value?"登录中...":"登录"),1)],8,Z)],32),e[13]||(e[13]=p('<div class="login-footer" data-v-aaa9ebac><p class="author" data-v-aaa9ebac>by wenb1n</p><a href="https://github.com/wenb1n-dev/SmartDB_MCP" target="_blank" class="github-link" data-v-aaa9ebac><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-aaa9ebac><path d="M9 19C4 20.5 4 16.5 2 16M16 22V18.13C16.0375 17.6532 15.9731 17.1738 15.811 16.7238C15.6489 16.2738 15.3929 15.8634 15.06 15.52C18.2 15.17 21.5 13.98 21.5 8.52C21.4998 7.12383 21.0627 5.7812 20.2605 4.7038C20.5709 3.5188 20.5274 2.2578 20.13 1.1C20.13 1.1 19.1 0.8 16 2.5C13.38 1.8 10.62 1.8 8 2.5C4.9 0.8 3.87 1.1 3.87 1.1C3.47 2.2578 3.43 3.5188 3.74 4.7038C2.93 5.7812 2.5 7.12383 2.5 8.52C2.5 13.97 5.8 15.16 8.94 15.55C8.611 15.89 8.35726 16.2954 8.19531 16.7399C8.03335 17.1844 7.96681 17.6581 8 18.13V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-aaa9ebac></path></svg> GitHub </a></div>',1))])])]))}},O=M(R,[["__scopeId","data-v-aaa9ebac"]]);export{O as default};
